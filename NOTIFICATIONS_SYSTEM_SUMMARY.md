# ูุธุงู ุงูุฅุดุนุงุฑุงุช - ููุฎุต ุดุงูู

## โ **ูุธุงู ุงูุฅุดุนุงุฑุงุช ูุนูู ุจุดูู ุณููู ููุชูุงูู**

### **ุงูููููุงุช ุงูุฑุฆูุณูุฉ:**

#### **1. ูููุฐุฌ ุงูุฅุดุนุงุฑุงุช (`models/Notification.ts`)**
- โ **ุญููู ุงูุฅุดุนุงุฑ:**
  - `userId` - ูุนุฑู ุงููุณุชุฎุฏู ุงููุณุชูู
  - `title` - ุนููุงู ุงูุฅุดุนุงุฑ (ูุทููุจุ ุญุฏ ุฃูุตู 100 ุญุฑู)
  - `message` - ูุญุชูู ุงูุฅุดุนุงุฑ (ูุทููุจุ ุญุฏ ุฃูุตู 500 ุญุฑู)
  - `type` - ููุน ุงูุฅุดุนุงุฑ: `info`, `success`, `warning`, `error`
  - `isRead` - ุญุงูุฉ ุงููุฑุงุกุฉ (ุงูุชุฑุงุถู: false)
  - `actionUrl` - ุฑุงุจุท ููุงูุชูุงู ุนูุฏ ุงูููุฑ
  - `metadata` - ุจูุงูุงุช ุฅุถุงููุฉ
  - `readAt` - ููุช ุงููุฑุงุกุฉ
  - `expiresAt` - ุชุงุฑูุฎ ุงูุชูุงุก ุงูุตูุงุญูุฉ (30 ููู ุงูุชุฑุงุถู)

- โ **ุงูููุงุฑุณ ุงููุญุณูุฉ:**
  - ููุฑุณ ุนูู `userId` ููุจุญุซ ุงูุณุฑูุน
  - ููุฑุณ ุนูู `isRead` ูุญุงูุฉ ุงููุฑุงุกุฉ
  - ููุฑุณ ุนูู `type` ูููุน ุงูุฅุดุนุงุฑ
  - ููุฑุณ ุนูู `createdAt` ููุชุฑุชูุจ ุงูุฒููู
  - ููุฑุณ TTL ุนูู `expiresAt` ููุญุฐู ุงูุชููุงุฆู

#### **2. ูุฒูุฏ ุงูุฅุดุนุงุฑุงุช (`components/providers/NotificationProvider.tsx`)**
- โ **ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ:**
  - `fetchNotifications()` - ุฌูุจ ุงูุฅุดุนุงุฑุงุช ูู API
  - `markAsRead()` - ุชุญุฏูุฏ ุฅุดุนุงุฑ ูููุฑูุก
  - `markAllAsRead()` - ุชุญุฏูุฏ ุฌููุน ุงูุฅุดุนุงุฑุงุช ูููุฑูุกุฉ
  - `sendNotification()` - ุฅุฑุณุงู ุฅุดุนุงุฑ ุนุจุฑ Socket.io

- โ **ุงุชุตุงู Socket.io:**
  - ุงุชุตุงู ุขูู ูุน ูุตุงุฏูุฉ JWT
  - ุงุณุชูุงุน ููุฅุดุนุงุฑุงุช ุงููุจุงุดุฑุฉ
  - ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุงูุชููุงุฆู
  - ูุนุงูุฌุฉ ุฃุฎุทุงุก ุงูุงุชุตุงู

- โ **ุฅุดุนุงุฑุงุช Toast:**
  - ุนุฑุถ ุฅุดุนุงุฑุงุช ููุฑูุฉ ุนูุฏ ูุตูู ุฅุดุนุงุฑุงุช ุฌุฏูุฏุฉ
  - ุฃููุงู ูุฎุชููุฉ ุญุณุจ ููุน ุงูุฅุดุนุงุฑ

#### **3. ุตูุญุฉ ุงูุฅุดุนุงุฑุงุช (`app/dashboard/notifications/page.tsx`)**
- โ **ุนุฑุถ ุงูุฅุดุนุงุฑุงุช:**
  - ูุงุฆูุฉ ูุฑุชุจุฉ ุฒูููุงู (ุงูุฃุญุฏุซ ุฃููุงู)
  - ุชูููุฒ ุงูุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ
  - ุฃููููุงุช ูุฎุชููุฉ ุญุณุจ ุงูููุน
  - ุนุฑุถ ุงูููุช ุงููุณุจู (ููุฐ...)

- โ **ุงููุธุงุฆู ุงูุชูุงุนููุฉ:**
  - ุงูููุฑ ุนูู ุงูุฅุดุนุงุฑ ููุงูุชูุงู ููุฑุงุจุท
  - ุชุญุฏูุฏ ุฅุดุนุงุฑ ูููุฑูุก
  - ุชุญุฏูุฏ ุฌููุน ุงูุฅุดุนุงุฑุงุช ูููุฑูุกุฉ
  - ุญุฐู ุฅุดุนุงุฑ

- โ **ุฏุนู ุงููุถุนูู ุงููุงุชุญ ูุงูุฏุงูู:**
  - ุฌููุน ุงููุตูุต ูุงูุฃููุงู ุชุนูู ูู ููุง ุงููุถุนูู
  - ุชูููุฒ ูุงุถุญ ููุฅุดุนุงุฑุงุช ุบูุฑ ุงูููุฑูุกุฉ

## **ุฃููุงุน ุงูุชูุจููุงุช ุงููุฏุนููุฉ:**

### **1. ุฅุดุนุงุฑุงุช ุงูุทูุจุงุช:**
- โ **ุทูุจ ุฌุฏูุฏ** - ุนูุฏ ุฅูุดุงุก ุทูุจ ุฌุฏูุฏ
  - ูุฑุณู ููููุฑุฏ: "ุทูุจ ุฌุฏูุฏ ุจูููุฉ X โช ูู [ุงุณู ุงูุนููู]"
  - ููุน: `info`
  - ุฑุงุจุท: `/dashboard/orders`

- โ **ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ** - ุนูุฏ ุชุบููุฑ ุญุงูุฉ ุงูุทูุจ
  - ูุฑุณู ููุนููู: "ุชู ุชุญุฏูุซ ุญุงูุฉ ุงูุทูุจ: [ุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ]"
  - ููุน: `success` ุฃู `warning` ุญุณุจ ุงูุญุงูุฉ

- โ **ุชูููุฐ ุงูุทูุจ** - ุนูุฏ ุชูููุฐ ุงูุทูุจ
  - ูุฑุณู ููููุฑุฏ: "ุชู ุชูููุฐ ุงูุทูุจ ูุชุญููู X โช ุฅูู ูุญูุธุชู"
  - ููุน: `success`
  - ุฑุงุจุท: `/dashboard/orders`

### **2. ุฅุดุนุงุฑุงุช ุงูููุชุฌุงุช:**
- โ **ููุชุฌ ุฌุฏูุฏ ูููุฑุงุฌุนุฉ** - ุนูุฏ ุฅุถุงูุฉ ููุชุฌ ูู ุงูููุฑุฏ
  - ูุฑุณู ููุฅุฏุงุฑุฉ: "ููุชุฌ ุฌุฏูุฏ ูููุฑุงุฌุนุฉ: [ุงุณู ุงูููุชุฌ]"
  - ููุน: `info`
  - ุฑุงุจุท: `/dashboard/products`

- โ **ููุงููุฉ ุนูู ุงูููุชุฌ** - ุนูุฏ ููุงููุฉ ุงูุฅุฏุงุฑุฉ ุนูู ููุชุฌ
  - ูุฑุณู ููููุฑุฏ: "ุชูุช ุงูููุงููุฉ ุนูู ููุชุฌู: [ุงุณู ุงูููุชุฌ]"
  - ููุน: `success`

- โ **ุฑูุถ ุงูููุชุฌ** - ุนูุฏ ุฑูุถ ุงูุฅุฏุงุฑุฉ ูููุชุฌ
  - ูุฑุณู ููููุฑุฏ: "ุชู ุฑูุถ ููุชุฌู: [ุงุณู ุงูููุชุฌ]"
  - ููุน: `error`

### **3. ุฅุดุนุงุฑุงุช ุงููุญุงุฏุซุงุช:**
- โ **ุฑุณุงูุฉ ุฌุฏูุฏุฉ** - ุนูุฏ ูุตูู ุฑุณุงูุฉ ุฌุฏูุฏุฉ
  - ูุฑุณู ูููุณุชูู: "ุฑุณุงูุฉ ุฌุฏูุฏุฉ ูู [ุงุณู ุงููุฑุณู]: [ุงูููุถูุน]"
  - ููุน: `info`
  - ุฑุงุจุท: `/dashboard/chat?id=[ูุนุฑู ุงููุญุงุฏุซุฉ]`

- โ **ุชุญุฏูุซ ุญุงูุฉ ุงููุญุงุฏุซุฉ** - ุนูุฏ ุชุบููุฑ ุญุงูุฉ ุงููุญุงุฏุซุฉ
  - ูุฑุณู ูููุดุงุฑููู: "ุชู ุชุญุฏูุซ ุญุงูุฉ ุงููุญุงุฏุซุฉ: [ุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ]"
  - ููุน: `info`

### **4. ุฅุดุนุงุฑุงุช ุงููุญูุธุฉ:**
- โ **ุชุญุฏูุซ ุงููุญูุธุฉ** - ุนูุฏ ุชุญุฏูุซ ุฑุตูุฏ ุงููุญูุธุฉ
  - ูุฑุณู ูููุณุชุฎุฏู: "ุชู ุชุญุฏูุซ ูุญูุธุชู: [ุงูุฑุณุงูุฉ]"
  - ููุน: `success`

- โ **ุณุญุจ ูุงุฌุญ** - ุนูุฏ ูุฌุงุญ ุนูููุฉ ุงูุณุญุจ
  - ูุฑุณู ูููุณุชุฎุฏู: "ุชู ุณุญุจ X โช ุจูุฌุงุญ"
  - ููุน: `success`

- โ **ูุดู ูู ุงูุณุญุจ** - ุนูุฏ ูุดู ุนูููุฉ ุงูุณุญุจ
  - ูุฑุณู ูููุณุชุฎุฏู: "ูุดู ูู ุณุญุจ X โช: [ุงูุณุจุจ]"
  - ููุน: `error`

### **5. ุฅุดุนุงุฑุงุช ุงููุธุงู:**
- โ **ุตูุงูุฉ ุงููุธุงู** - ุนูุฏ ุชูุนูู ูุถุน ุงูุตูุงูุฉ
  - ูุฑุณู ูุฌููุน ุงููุณุชุฎุฏููู: "ุงููุธุงู ูู ูุถุน ุงูุตูุงูุฉ"
  - ููุน: `warning`

- โ **ุชุญุฏูุซุงุช ุงููุธุงู** - ุนูุฏ ุฅุทูุงู ุชุญุฏูุซุงุช ุฌุฏูุฏุฉ
  - ูุฑุณู ูุฌููุน ุงููุณุชุฎุฏููู: "ุชู ุฅุทูุงู ุชุญุฏูุซุงุช ุฌุฏูุฏุฉ"
  - ููุน: `info`

## **API Endpoints:**

### **1. ุฌูุจ ุงูุฅุดุนุงุฑุงุช:**
```http
GET /api/notifications
GET /api/notifications?page=1&limit=20
GET /api/notifications?unread=true
GET /api/notifications?type=success
```

### **2. ุชุญุฏูุฏ ูููุฑูุก:**
```http
POST /api/notifications/[id]/read
POST /api/notifications/read-all
```

### **3. ุญุฐู ุฅุดุนุงุฑ:**
```http
DELETE /api/notifications/[id]
```

### **4. ุฅูุดุงุก ุฅุดุนุงุฑ (ููุฅุฏุงุฑุฉ):**
```http
POST /api/notifications
{
  "userId": "user_id",
  "title": "ุนููุงู ุงูุฅุดุนุงุฑ",
  "message": "ูุญุชูู ุงูุฅุดุนุงุฑ",
  "type": "info",
  "actionUrl": "/dashboard/orders"
}
```

## **Socket.io Events:**

### **1. ุฅุฑุณุงู ุฅุดุนุงุฑ:**
```javascript
socket.emit('send-notification', {
  targetUserId: 'user_id',
  title: 'ุนููุงู ุงูุฅุดุนุงุฑ',
  message: 'ูุญุชูู ุงูุฅุดุนุงุฑ',
  type: 'info',
  actionUrl: '/dashboard/orders'
});
```

### **2. ุฅุฑุณุงู ุฅุดุนุงุฑ ูุฏูุฑ ูุนูู:**
```javascript
socket.emit('send-notification', {
  targetRole: 'supplier',
  title: 'ุนููุงู ุงูุฅุดุนุงุฑ',
  message: 'ูุญุชูู ุงูุฅุดุนุงุฑ',
  type: 'info'
});
```

## **ุงูููุฒุงุช ุงููุชูุฏูุฉ:**

### **1. ุงูุชุตููุฉ ูุงูุจุญุซ:**
- โ ุชุตููุฉ ุญุณุจ ุงูููุน (info, success, warning, error)
- โ ุชุตููุฉ ุญุณุจ ุญุงูุฉ ุงููุฑุงุกุฉ (ููุฑูุก/ุบูุฑ ููุฑูุก)
- โ ุชุฑุชูุจ ุฒููู (ุงูุฃุญุฏุซ ุฃููุงู)

### **2. ุงูุฅุฏุงุฑุฉ ุงูุชููุงุฆูุฉ:**
- โ ุญุฐู ุชููุงุฆู ููุฅุดุนุงุฑุงุช ุงูููุชููุฉ ุงูุตูุงุญูุฉ (30 ููู)
- โ ุชุญุฏูุซ ุชููุงุฆู ูุญุงูุฉ ุงููุฑุงุกุฉ
- โ ุฅุนุงุฏุฉ ุงูุงุชุตุงู ุงูุชููุงุฆู ุนูุฏ ุงููุทุงุน Socket.io

### **3. ุงูุฃูุงู:**
- โ ูุตุงุฏูุฉ JWT ูุฌููุน ุงูุนูููุงุช
- โ ุงูุชุญูู ูู ููููุฉ ุงูุฅุดุนุงุฑุงุช
- โ ุญูุงูุฉ ูู ุงููุตูู ุบูุฑ ุงููุตุฑุญ

### **4. ุงูุฃุฏุงุก:**
- โ ููุงุฑุณ ูุญุณูุฉ ููุจุญุซ ุงูุณุฑูุน
- โ ุชุฑููู ุงูุตูุญุงุช ููููุงุฆู ุงููุจูุฑุฉ
- โ ุชุฎุฒูู ูุคูุช ููุฅุดุนุงุฑุงุช ุงููุชูุฑุฑุฉ

## **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ:**

๐ **ูุธุงู ุงูุฅุดุนุงุฑุงุช ูุนูู ุจุดูู ูุซุงูู!**

- โ **ุฌููุน ุฃููุงุน ุงูุชูุจููุงุช ูุฏุนููุฉ** - ุทูุจุงุชุ ููุชุฌุงุชุ ูุญุงุฏุซุงุชุ ูุญูุธุฉุ ูุธุงู
- โ **ุฅุดุนุงุฑุงุช ููุฑูุฉ** - ุนุจุฑ Socket.io ูุน ุฅุดุนุงุฑุงุช Toast
- โ **ูุงุฌูุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ** - ุชุนูู ูู ุงููุถุนูู ุงููุงุชุญ ูุงูุฏุงูู
- โ **API ูุชูุงูู** - ุฌููุน ุงูุนูููุงุช ูุฏุนููุฉ
- โ **ุฃูุงู ุนุงูู** - ูุตุงุฏูุฉ ูุชุญูู ูู ุงูุตูุงุญูุงุช
- โ **ุฃุฏุงุก ููุชุงุฒ** - ููุงุฑุณ ูุญุณูุฉ ูุฅุฏุงุฑุฉ ุฐููุฉ ููุฐุงูุฑุฉ

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ูู ุงูุฅูุชุงุฌ ููููุฑ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ููุชุงุฒุฉ! ๐โจ 